function maskBuffers(e,t){var o;return(o=e.get()).mask(t),o}function getRandomFromInterval(e,t){return fxrand()*(t-e)+e}function getP5RandomFromInterval(e,t){return random()*(t-e)+e}function getRandomFromList(e){return e[Math.floor(fxrand()*e.length)]}function getP5RandomFromList(e){return e[Math.floor(random()*e.length)]}function distortColor(e,t){void 0===t&&(t=10);let o=e.levels[0]+getRandomFromInterval(-t,t),n=e.levels[1]+getRandomFromInterval(-t,t),r=e.levels[2]+getRandomFromInterval(-t,t),i=e.levels[3];return o=Math.min(Math.max(parseInt(o),0),255),n=Math.min(Math.max(parseInt(n),0),255),r=Math.min(Math.max(parseInt(r),0),255),color(o,n,r,i)}function distortColorNew(e,t,o=!0){return colorA=color(e),colorMode(HSB,360,100,100,1),o?(brightnessNew=brightness(colorA)+getRandomFromInterval(-t,t),saturationNew=saturation(colorA)+getRandomFromInterval(-t,t),hueNew=hue(colorA)+getRandomFromInterval(-t/4,t/4)):(brightnessNew=brightness(colorA)+getP5RandomFromInterval(-t,t),saturationNew=saturation(colorA)+getP5RandomFromInterval(-t,t),hueNew=hue(colorA)+getP5RandomFromInterval(-t/4,t/4)),colorB=color(hueNew,saturationNew,brightnessNew,alpha(colorA)),colorMode(RGB,255,255,255,255),resultingColor=color(red(colorB),green(colorB),blue(colorB),alpha(colorA)),resultingColor}function distortColorSuperNew(e,t){var o=+randomGaussian(0,t);return color(red(e)+o,green(e)+o,blue(e)+o,alpha(e))}function brightenSuperNew(e,t){return color(red(e)+t,green(e)+t,blue(e)+t,alpha(e))}function lessenColor(e,t){let o=getRandomFromInterval(0,-t),n=e.levels[0],r=e.levels[1],i=e.levels[2],a=constrain(e.levels[3]+o,0,255);return color(n,r,i,a)}function fromHSBtoRGB(e){return colorMode(RGB),color(red(e),green(e),blue(e))}function scaleDynamicallyPaper(){const e=4e3;dynamicWidthRatio=e/windowWidth,dynamicHeightRatio=e/windowHeight,dynamicWidthRatio>dynamicHeightRatio?exportRatio=dynamicWidthRatio:exportRatio=dynamicHeightRatio,exportRatio/=pixelDensity(),rescaling_width=Math.floor(e/exportRatio),rescaling_height=Math.floor(e/exportRatio)}function scaleDynamically(){0==FRAMED?windowHeight>windowWidth?(DOMINANTSIDE=Math.floor(windowWidth),rescaling_width=Math.floor(windowWidth),rescaling_height=Math.floor(windowWidth)):(DOMINANTSIDE=Math.floor(windowHeight),rescaling_width=Math.floor(windowHeight),rescaling_height=Math.floor(windowHeight)):(rescaling_width=FRAMEDWIDTH,rescaling_height=FRAMEDWIDTH,DOMINANTSIDE=FRAMEDWIDTH)}function windowResized(){}function keyTyped(){"e"===key||"E"==key?exportCanvas(canvas):" "===key&&(ANIMATIONSTATE?(console.log("stop animation"),noLoop(),ANIMATIONSTATE=!1):(console.log("restart animation"),loop(),ANIMATIONSTATE=!0))}function label_feature(e,t,o){let n,r=(o-t)/3;return n=e<t+r?"low":e>o-r?"high":"medium",n}function hashFnv32a(e,t,o){var n,r,i=void 0===o?2166136261:o;for(n=0,r=e.length;n<r;n++)i^=e.charCodeAt(n),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return t?("0000000"+(i>>>0).toString(16)).substr(-8):i>>>0}function exportHighResolution(){buffer=createGraphics(exportRatio*width,exportRatio*height),draw(),exportCanvas(buffer),buffer=createGraphics(width,height),draw()}function exportCanvas(e,t){let o,n=getTimestamp();o=t?TRIANGLECOUNT+"_"+PICKER+"_"+PALETTE_LABEL:fxhash+"_"+n,save(e,o,"png")}function getTimestamp(){const e=new Date;let t=e.getFullYear(),o=e.getMonth();o=("0"+o).slice(-2);let n=e.getDate();n=("0"+n).slice(-2);let r=e.getHours();r=("0"+r).slice(-2);let i=e.getMinutes();i=("0"+i).slice(-2);let a=e.getSeconds();return a=("0"+a).slice(-2),`${t}${o}${n} ${r}${i}${a}`}function choosePalette(){allPalettes=[];for(let e in PALETTESYSTEM)allPalettes.push(e);PALETTE_LABEL=getRandomFromList(allPalettes),console.log("Palette: "+PALETTE_LABEL),PALETTE=PALETTESYSTEM[PALETTE_LABEL]}function setPlainHTML(){const e=document.createElement("div");e.setAttribute("id","canvasHolderPlain"),document.body.insertBefore(e,document.getElementById("Konkas"))}function setFrameHTML(){const e=document.createElement("ul");e.setAttribute("id","Frames");const t=document.createElement("li");t.setAttribute("class","Frame");const o=document.createElement("div");o.setAttribute("id","canvasHolderFrame"),t.appendChild(o),e.appendChild(t),document.body.insertBefore(e,document.getElementById("Konkas"))}function setLabelHTML(){const e=document.createElement("div");e.setAttribute("id","Label");const t=document.createElement("div");t.setAttribute("class","label-content");const o=document.createElement("h1");o.setAttribute("id","title");const n=document.createElement("p");n.setAttribute("id","artist_year");const r=document.createElement("p");r.setAttribute("id","description");const i=document.createElement("p");i.setAttribute("id","price_editions"),t.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(i),e.appendChild(t),document.body.insertBefore(e,document.getElementById("Konkas")),document.getElementById("title").innerHTML=TITLE,document.getElementById("artist_year").innerHTML=ARTIST+", "+YEAR,document.getElementById("description").innerHTML=DESCRIPTION,document.getElementById("price_editions").innerHTML=PRICE+", "+EDITIONS}function setTagsHTML(){document.title=TITLE,document.querySelector('meta[name="description"]').setAttribute("content",DESCRIPTION),document.querySelector('meta[name="author"]').setAttribute("content",ARTIST),document.querySelector('meta[property="og:title"]').setAttribute("content",TITLE),document.querySelector('meta[property="og:type"]').setAttribute("content","website"),document.querySelector('meta[property="og:url"]').setAttribute("content",URL),document.querySelector('meta[property="og:description"]').setAttribute("content",DESCRIPTION)}function getSteep(e,t){var o=(e.y-t.y)/(e.x-t.x);return[o,e.y-o*e.x]}function getIntersectionPoint(e,t,o,n){ALine=getSteep(e,t),BLine=getSteep(o,n),Ak=ALine[0],Ad=ALine[1],Bk=BLine[0],Bd=BLine[1];var r=Math.round((Bd-Ad)/(Ak-Bk)),i=Math.round(Ak*r+Ad);if(!isNaN(r)||!isNaN(r))return createVector(r,i)}function insidePolygon(e,t){for(var o=e[0],n=e[1],r=!1,i=0,a=t.length-1;i<t.length;a=i++){var l=t[i][0],c=t[i][1],d=t[a][0],s=t[a][1];c>n!=s>n&&o<(d-l)*(n-c)/(s-c)+l&&(r=!r)}return r}const pointInPolygon=function(e,t){let o=!1;for(let n=0,r=e.length-1;n<e.length;n++)e[n][1]>t[1]!=e[r][1]>t[1]&&t[0]<(e[r][0]-e[n][0])*(t[1]-e[n][1])/(e[r][1]-e[n][1])+e[n][0]&&(o=!o),r=n;return o};function drawArrow(e,t,o){let n=p5.Vector.sub(t,e);push(),stroke(o),strokeWeight(3),fill(o),translate(e.x,e.y),line(0,0,n.x,n.y),rotate(n.heading()),translate(n.mag()-7,0),triangle(0,3.5,0,-3.5,7,0),pop()}function getAngleBetweenPoints(e,t){return atan2(t.y-e.y,t.x-e.x)}function orthogonalProjection1(e,t,o){return d1=p5.Vector.sub(t,e).normalize(),d2=p5.Vector.sub(o,e),d1.mult(d2.dot(d1)),p5.Vector.add(e,d1)}function highlightColor(e,t){return color(red(e)+t,green(e)+t,blue(e)+t,alpha(e))}