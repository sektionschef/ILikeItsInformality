function maskBuffers(e,t){var n;return(n=e.get()).mask(t),n}function getRandomFromInterval(e,t){return fxrand()*(t-e)+e}function getP5RandomFromInterval(e,t){return random()*(t-e)+e}function getRandomFromList(e){return e[Math.floor(fxrand()*e.length)]}function getP5RandomFromList(e){return e[Math.floor(random()*e.length)]}function distortColor(e,t){void 0===t&&(t=10);let n=e.levels[0]+getRandomFromInterval(-t,t),o=e.levels[1]+getRandomFromInterval(-t,t),r=e.levels[2]+getRandomFromInterval(-t,t),i=e.levels[3];return n=Math.min(Math.max(parseInt(n),0),255),o=Math.min(Math.max(parseInt(o),0),255),r=Math.min(Math.max(parseInt(r),0),255),color(n,o,r,i)}function distortColorNew(e,t,n=!0){return colorA=color(e),colorMode(HSB,360,100,100,1),n?(brightnessNew=brightness(colorA)+getRandomFromInterval(-t,t),saturationNew=saturation(colorA)+getRandomFromInterval(-t,t),hueNew=hue(colorA)+getRandomFromInterval(-t/4,t/4)):(brightnessNew=brightness(colorA)+getP5RandomFromInterval(-t,t),saturationNew=saturation(colorA)+getP5RandomFromInterval(-t,t),hueNew=hue(colorA)+getP5RandomFromInterval(-t/4,t/4)),colorB=color(hueNew,saturationNew,brightnessNew,alpha(colorA)),colorMode(RGB,255,255,255,255),resultingColor=color(red(colorB),green(colorB),blue(colorB),alpha(colorA)),resultingColor}function distortColorSuperNew(e,t){var n=+randomGaussian(0,t);return color(red(e)+n,green(e)+n,blue(e)+n,alpha(e))}function brightenSuperNew(e,t){return color(red(e)+t,green(e)+t,blue(e)+t,alpha(e))}function lessenColor(e,t){let n=getRandomFromInterval(0,-t),o=e.levels[0],r=e.levels[1],i=e.levels[2],a=constrain(e.levels[3]+n,0,255);return color(o,r,i,a)}function fromHSBtoRGB(e){return colorMode(RGB),color(red(e),green(e),blue(e))}function scaleDynamicallyPaper(){const e=4e3;dynamicWidthRatio=e/windowWidth,dynamicHeightRatio=e/windowHeight,dynamicWidthRatio>dynamicHeightRatio?exportRatio=dynamicWidthRatio:exportRatio=dynamicHeightRatio,exportRatio/=pixelDensity(),rescaling_width=Math.floor(e/exportRatio),rescaling_height=Math.floor(e/exportRatio)}function scaleDynamically(){0==FRAMED?windowHeight>windowWidth?(DOMINANTSIDE=Math.floor(windowWidth),rescaling_width=Math.floor(windowWidth),rescaling_height=Math.floor(windowWidth)):(DOMINANTSIDE=Math.floor(windowHeight),rescaling_width=Math.floor(windowHeight),rescaling_height=Math.floor(windowHeight)):(rescaling_width=FRAMEDWIDTH,rescaling_height=FRAMEDWIDTH,DOMINANTSIDE=FRAMEDWIDTH)}function windowResized(){}function keyTyped(){"e"===key||"E"==key?exportCanvas(canvas):" "===key&&(ANIMATIONSTATE?(console.log("stop animation"),noLoop(),ANIMATIONSTATE=!1):(console.log("restart animation"),loop(),ANIMATIONSTATE=!0))}function label_feature(e,t,n){let o,r=(n-t)/3;return o=e<t+r?"low":e>n-r?"high":"medium",o}function hashFnv32a(e,t,n){var o,r,i=void 0===n?2166136261:n;for(o=0,r=e.length;o<r;o++)i^=e.charCodeAt(o),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return t?("0000000"+(i>>>0).toString(16)).substr(-8):i>>>0}function exportHighResolution(){buffer=createGraphics(exportRatio*width,exportRatio*height),draw(),exportCanvas(buffer),buffer=createGraphics(width,height),draw()}function exportCanvas(e){let t=getTimestamp();save(e,fxhash+"_"+t,"png")}function getTimestamp(){const e=new Date;let t=e.getFullYear(),n=e.getMonth();n=("0"+n).slice(-2);let o=e.getDate();o=("0"+o).slice(-2);let r=e.getHours();r=("0"+r).slice(-2);let i=e.getMinutes();i=("0"+i).slice(-2);let a=e.getSeconds();return a=("0"+a).slice(-2),`${t}${n}${o} ${r}${i}${a}`}function choosePalette(){allPalettes=[];for(let e in PALETTESYSTEM)allPalettes.push(e);PALETTE_LABEL=getRandomFromList(allPalettes),PALETTE=PALETTESYSTEM[PALETTE_LABEL]}function setPlainHTML(){const e=document.createElement("div");e.setAttribute("id","canvasHolderPlain"),document.body.insertBefore(e,document.getElementById("Konkas"))}function setFrameHTML(){const e=document.createElement("ul");e.setAttribute("id","Frames");const t=document.createElement("li");t.setAttribute("class","Frame");const n=document.createElement("div");n.setAttribute("id","canvasHolderFrame"),t.appendChild(n),e.appendChild(t),document.body.insertBefore(e,document.getElementById("Konkas"))}function setLabelHTML(){const e=document.createElement("div");e.setAttribute("id","Label");const t=document.createElement("div");t.setAttribute("class","label-content");const n=document.createElement("h1");n.setAttribute("id","title");const o=document.createElement("p");o.setAttribute("id","artist_year");const r=document.createElement("p");r.setAttribute("id","description");const i=document.createElement("p");i.setAttribute("id","price_editions"),t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(i),e.appendChild(t),document.body.insertBefore(e,document.getElementById("Konkas")),document.getElementById("title").innerHTML=TITLE,document.getElementById("artist_year").innerHTML=ARTIST+", "+YEAR,document.getElementById("description").innerHTML=DESCRIPTION,document.getElementById("price_editions").innerHTML=PRICE+", "+EDITIONS}function setTagsHTML(){document.title=TITLE,document.querySelector('meta[name="description"]').setAttribute("content",DESCRIPTION),document.querySelector('meta[name="author"]').setAttribute("content",ARTIST),document.querySelector('meta[property="og:title"]').setAttribute("content",TITLE),document.querySelector('meta[property="og:type"]').setAttribute("content","website"),document.querySelector('meta[property="og:url"]').setAttribute("content",URL),document.querySelector('meta[property="og:description"]').setAttribute("content",DESCRIPTION)}function setSpotHTML(){const e=document.createElement("div");e.setAttribute("id","fullscreen"),document.body.insertBefore(e,document.getElementById("Konkas"))}function getSteep(e,t){var n=(e.y-t.y)/(e.x-t.x);return[n,e.y-n*e.x]}function getIntersectionPoint(e,t,n,o){ALine=getSteep(e,t),BLine=getSteep(n,o),Ak=ALine[0],Ad=ALine[1],Bk=BLine[0],Bd=BLine[1];var r=Math.round((Bd-Ad)/(Ak-Bk)),i=Math.round(Ak*r+Ad);if(!isNaN(r)||!isNaN(r))return createVector(r,i)}function insidePolygon(e,t){for(var n=e[0],o=e[1],r=!1,i=0,a=t.length-1;i<t.length;a=i++){var l=t[i][0],c=t[i][1],d=t[a][0],s=t[a][1];c>o!=s>o&&n<(d-l)*(o-c)/(s-c)+l&&(r=!r)}return r}const pointInPolygon=function(e,t){let n=!1;for(let o=0,r=e.length-1;o<e.length;o++)e[o][1]>t[1]!=e[r][1]>t[1]&&t[0]<(e[r][0]-e[o][0])*(t[1]-e[o][1])/(e[r][1]-e[o][1])+e[o][0]&&(n=!n),r=o;return n};function drawArrow(e,t,n){let o=p5.Vector.sub(t,e);push(),stroke(n),strokeWeight(3),fill(n),translate(e.x,e.y),line(0,0,o.x,o.y),rotate(o.heading()),translate(o.mag()-7,0),triangle(0,3.5,0,-3.5,7,0),pop()}function getAngleBetweenPoints(e,t){return atan2(t.y-e.y,t.x-e.x)}function orthogonalProjection1(e,t,n){return d1=p5.Vector.sub(t,e).normalize(),d2=p5.Vector.sub(n,e),d1.mult(d2.dot(d1)),p5.Vector.add(e,d1)}function highlightColor(e,t){return color(red(e)+t,green(e)+t,blue(e)+t,alpha(e))}